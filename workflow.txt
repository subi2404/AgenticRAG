ğŸ”„ End-to-End Workflow: AgenticRAG Auto Upload System
âš™ï¸ 1. System Initialization
Backend (FastAPI):
âœ… Initializes FastAPI() app.

âœ… Loads SentenceTransformer (all-MiniLM-L6-v2) for text embeddings.

âœ… Connects to persistent ChromaDB at ./vector_db/chroma_db.

âœ… Prepares document_log.json to track upload history.

Frontend (Streamlit):
âœ… Sets page config, initializes session_state for modals and tables.

âœ… Defines backend URL and path to the shared log file.

ğŸ” 2. Backend Status Check
ğŸ“ Frontend calls GET /status on the backend.

ğŸ“¡ Backend returns:

Total number of vectors stored

ChromaDB path

âœ… Status is shown in UI as "Backend is running" with stats.

ğŸ“¤ 3. Document Upload by User
ğŸ‘¤ User selects one or more files (PDF, DOCX, TXT, CSV, or ZIP) via Streamlit file_uploader.

ğŸ” 4. Pre-Upload Checks
âŒ If file already exists in document_log.json, skip upload.

âœ… Else, proceed to backend.

ğŸ”Œ 5. File Sent to Backend
ğŸ“¦ Frontend sends POST /upload with the file using requests.

ğŸ§  6. Backend Processing (FastAPI)
ğŸ—‚ï¸ File is saved temporarily in /tmp.

ğŸ“ File is parsed:

parse_pdf(), parse_docx(), or read() for txt/csv.

ğŸª“ Text is split into paragraphs (split_into_paragraphs()).

ğŸ” Each paragraph is embedded into a 384-dim vector using SentenceTransformer.

ğŸ“¥ Vectors, texts, and metadata are stored in ChromaDB.

ğŸ“š document_log.json is updated with:

Filename

Number of chunks stored

Upload timestamp

ğŸ“¤ Backend sends back:

Chunk count

Embedding dimensions

Sample embedding vector

First few text chunks

ğŸ“Š 7. Frontend Displays Upload Results
âœ… Shows success message.

ğŸ“ Displays:

Total chunks stored

Embedding dimension

First 5 dimensions of a sample embedding

First 3 paragraphs of text

ğŸ“Š Adds this to table_data for further visualizations.

ğŸ“ˆ 8. User Triggers Visualizations (Optional)
Based on buttons clicked:

Button	What It Shows
ğŸ“ˆ Bar Graph	Chunks per document
ğŸ”¥ Heatmap	Cosine similarity between chunks
ğŸ§  Keyword Chart	Top 10 frequent words
ğŸŒ PCA	2D view of embeddings using PCA
All graphs are generated using matplotlib, seaborn, and sklearn.

ğŸ§¾ 9. Document Upload History Panel
ğŸ“œ Reads document_log.json

ğŸ“‚ Lists:

Filename

Chunk count

Upload time

âŒ Delete button

ğŸ—‘ï¸ 10. Document Deletion (If Clicked)
ğŸ” Frontend sends DELETE /delete-document?filename=...

ğŸ§¹ Backend:

Deletes matching vectors from ChromaDB

Removes entry from document_log.json

ğŸ”„ Frontend calls st.rerun() to refresh UI

âœ… FINAL OUTCOME
User can:

Upload and index documents into a vector DB

Visualize embeddings and text

View full upload history

Delete specific documents and their vectors

